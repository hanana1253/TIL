# React

## ì¸ìƒ ê¹Šì€ ì¡°ì–¸
- ì±…ì€ ì°¸ê³ ìš©ìœ¼ë¡œ ë‘ê³ , ê³µì‹ë¬¸ì„œ ì˜ì–´ë¡œ ì½ëŠ”ê²Œ ê°€ì¥ ìµœì‹ ì˜ ì •í™•í•œ ì •ë³´ë¥¼ ì–»ëŠ” ê¸¸ì´ë‹ˆ ê³µì‹ë¬¸ì„œë¡œ ê³µë¶€í•˜ì.

## Function Component & Hooks
- class componentì™€ ëŒ€ì¡°ë˜ë©°, ì´ì œëŠ” ëŒ€ë¶€ë¶„ function component ë§ì´ ì“´ë‹¤.
- ê¸°ë³¸ì ì¸ í˜•íƒœëŠ” í•¨ìˆ˜ì™€ ê°™ìœ¼ë©° ë Œë”ë§í•  JSX ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.

### class componentì—ì„œ function componentìœ¼ë¡œ ê°€ë©´ì„œ ë°”ë€ ê²ƒ
- ìƒíƒœê´€ë¦¬: `this.state`ì™€ `this.setState`ë¡œ ê´€ë¦¬í•˜ë˜ ê²ƒì„ ì´ì œëŠ” `useState`ë¡œ!
- Life Cycle Method: `constructor`, `componentDidMount`, `componentWillUnmount`, `componentDidUpdate`ë¥¼ `useEffect`ë¡œ!
- props: í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„°ê°€ propë¡œ, ê·¸ props ê·¸ëŒ€ë¡œ `useState`ì— ì‚¬ìš©  
- `shouldComponentUpdate`ëŠ” memoë¡œ êµ¬í˜„

## Function Componentì—ì„œì˜ ìƒíƒœê´€ë¦¬

### `useState`
- ìƒíƒœë¥¼ ì •ì˜í•˜ëŠ” í•¨ìˆ˜
  - ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì— ê°’ì„ ë„˜ê¸°ë©´ ê·¸ ê°’ì´ ìƒíƒœì˜ ì´ˆê¸°ê°’ì´ ëœë‹¤.
- ë‘ ìš”ì†Œë¥¼ ê°€ì§„ ë°°ì—´ì„ ë°˜í™˜
  - ì²« ë²ˆì§¸ ìš”ì†ŒëŠ” ê´€ë¦¬í•  ìƒíƒœ
  - ë‘ ë²ˆì§¸ ìš”ì†ŒëŠ” ê·¸ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” setter í•¨ìˆ˜ì´ë‹¤.
  - ë°°ì—´ ë””ìŠ¤íŠ¸ëŸ­ì³ë§ í• ë‹¹ìœ¼ë¡œ ë°›ëŠ”ë‹¤.
- class componentì˜ `this.setState`ëŠ” merge ë°©ì‹, function componentì˜ `useState`ëŠ” override ë°©ì‹ìœ¼ë¡œ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸
  - ê°ì²´ë¥¼ ë³‘í•©í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ setterí•¨ìˆ˜ê°€ ë°›ì€ ê°’ìœ¼ë¡œ ë°”ê¿”ì¹˜ê¸°
- setter í•¨ìˆ˜ëŠ” ê°’ì„ ë°›ì„ ìˆ˜ë„, í•¨ìˆ˜ë¥¼ ë°›ì„ ìˆ˜ë„ ìˆë‹¤.
  - ê°’ì„ ë°›ìœ¼ë©´ ë¹„ë™ê¸°ì ìœ¼ë¡œ ê·¸ ê°’ìœ¼ë¡œ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸
  - í•¨ìˆ˜ë¥¼ ë°›ìœ¼ë©´ í•¨ìˆ˜ì˜ ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì— ì´ì „ ìƒíƒœë¥¼ ì „ë‹¬
```javascript
import { useState } from 'react'

function App() {
  return (
    <Counter />
  )
}

function Counter() {
  const [ count, setCount ] = useState(0);
  const handleClick = () => {
    setCount((prevCount) => prevCount +1 );
  }
  return (
    <section>
      <span>{count}</span>
      <button onClick={handleClick}>Plus 1</button>
    </section>
  )
}
```

#### Lazy Initial State
- `useState`ì— ì „ë‹¬ëœ ì´ˆê¸°ìƒíƒœëŠ” ì²« ë Œë”ë§ ì´í›„ì—ëŠ” ë¬´ì‹œëœë‹¤. 
  - ì´ˆê¸° ìƒíƒœë¥¼ ê³„ì‚°í•˜ëŠ” ê³¼ì •ì´ ë¹„ì‹¼ ì—°ì‚°ì´ë¼ë©´?
```javascript
import { useState } from 'react'

function getCount() {
  return Array(100000).fill(1).reduce((acc, cur)=> acc + cur, 0)
}

function App() {
  return (
    <Counter />
  )
}

function Counter() {
  const expensivelyCalculatedCount = getCount()
  const [ count, setCount ] = useState(expensivelyCalculatedCount)
 
  const handleClick = () => {
    setCount( prevCount => prevCount + 1 )
  }
  
  return (
    <section>
      <span>{count}</span>
      <button onClick={handleClick}>Plus 1</button>
    </section>
  )
}
```
  - ìœ„ì™€ ê°™ì€ ì‘ì—…ì€ `handleClick`ì´ í˜¸ì¶œë˜ì–´ ë¦¬ë Œë”ë§ ë ë•Œë§ˆë‹¤ ë¹„ì‹¼ ì—°ì‚°ì„ ê³„ì† í•œë‹¤.
- ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•œ ê²ƒì´ Lazy Initial State
- ë¹„ì‹¼ ì—°ì‚°ì„ í•˜ëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ ê²°ê³¼ë¥¼ ì´ˆê¸°ê°’ìœ¼ë¡œ ë„£ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë¹„ì‹¼ ì—°ì‚°ì„ í•˜ëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ë¥¼ `useState`ì˜ íŒŒë¼ë¯¸í„°ì— ì½œë°±ìœ¼ë¡œ ë„£ëŠ”ë‹¤.
```javascript
// Counter í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì˜ í•¨ìˆ˜ ëª¸ì²´ ë‚´ë¶€
// ë¹„ì‹¼ ì—°ì‚°ì„ í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§¤ë²ˆ í˜¸ì¶œí•˜ëŠ” ì´ˆê¸°ê°’
const expensivelyCalculatedCount = getCount()
const [ count, setCount ] = useState(expensivelyCalculatedCount)

// ë¹„ì‹¼ ì—°ì‚°ì„ í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì½œë°±ìœ¼ë¡œ ë„£ì€ ì´ˆê¸°ê°’
const [ count, setCount ] =  useState( () => getCount() )
```
  - ì´ë ‡ê²Œ í•¨ìˆ˜ë¥¼ ë„˜ê¸°ë©´ ReactëŠ” í•¨ìˆ˜ê°€ ë°˜í™˜í•œ ê°’ì„ í•œ ë²ˆë§Œ ê³„ì‚°í•˜ì—¬ ì‚¬ìš©, ê·¸ ë’¤ì— ì¼ì–´ë‚˜ëŠ” ë Œë”ë§ ë•ŒëŠ” ê³„ì‚°í•˜ì§€ ì•ŠëŠ”ë‹¤.

#### `useState`ì˜ íŠ¹ì„±
- setterí•¨ìˆ˜ ì‹¤í–‰í•œë‹¤ê³  ë°”ë¡œ ë Œë”ë§ì— ë°˜ì˜ë˜ì§€ ì•ŠëŠ”ë‹¤.
  - ìƒˆë¡œìš´ ê°’ì„ ë°›ìœ¼ë©´ ì‹¤í–‰ ì‹œ ê³§ë°”ë¡œ ë Œë”ë§ì„ ë‹¤ì‹œ í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, component rerendering queueì— ë“±ë¡í•´ë‘ê³  Reactê°€ ë‚˜ì¤‘ì— ì²˜ë¦¬í•œë‹¤.
  - ìƒˆ ê°’ë“¤ì„ ëª¨ì•„ì„œ ë¦¬ë Œë”ë§ì— ì‚¬ìš©í•˜ëŠ” batch ì²˜ë¦¬ë°©ì‹
- function componentì—ì„œ ë¦¬ë Œë”ë§ ì‹œ ëª¨ë“  í•¨ìˆ˜ê°€ ì¬ì‹¤í–‰ë˜ì§€ë§Œ `useState`ëŠ” í•œ ë²ˆë§Œ ì‹¤í–‰ëœë‹¤.
  - setterí•¨ìˆ˜ëŠ” ë™ì¼ì„±ì´ ë³´ì¥ëœë‹¤. ì¦‰ ì²« ë²ˆì§¸ë¡œ ë°˜í™˜í–ˆë˜ setterí•¨ìˆ˜ì˜ ê°’ì„ ë¦¬ì•¡íŠ¸ê°€ ê¸°ì–µí•˜ê³  ìˆìœ¼ë¯€ë¡œ, ì¬ì‹¤í–‰í•˜ë”ë¼ë„ ìƒˆ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ë°˜í™˜í•˜ì§€ ì•Šê³  ê¸°ì¡´í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.
  - setterí•¨ìˆ˜ëŠ” dependency arrayì— ë„£ì§€ ì•Šì•„ë„ ëœë‹¤.
- `useState`ì— ì½œë°±í•¨ìˆ˜ë¥¼ ì „ë‹¬í•˜ë©´ ì´ í•¨ìˆ˜ëŠ” ì´ˆê¸° ë Œë”ë§ì—ë§Œ ì‹¤í–‰ëœë‹¤. 
  - ì½œë°±í•¨ìˆ˜ê°€ ë°˜í™˜í•˜ëŠ” ê°’ì„ ì´ˆê¸° ë Œë”ë§ì— ì‚¬ìš©í•˜ê³  ê·¸ ë’¤ë¡œëŠ” ê°’ì´ ë¬´ì‹œëœë‹¤.

#### ê°™ì€ ê°’ìœ¼ë¡œ setterí•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ê°±ì‹ í•˜ëŠ” ê²½ìš°, ë¦¬ë Œë”ë§ì€ ë¬´ì‹œëœë‹¤.
- ReactëŠ” ì´ì „ ìƒíƒœì™€ ìƒˆ ìƒíƒœê°€ ê°™ë‹¤ë©´ í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‹¤í–‰(ë¦¬ë Œë”ë§)í•˜ì§€ ì•ŠëŠ”ë‹¤.
- setter í•¨ìˆ˜ì— í˜„ì¬ stateì™€ ê°™ì€ ê°’ì„ ì¸ìë¡œ ì „ë‹¬í•˜ë©´, ReactëŠ” ìì‹ì„ ë Œë”ë§í•˜ê±°ë‚˜ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ëŠ” ë“±ì˜ í–‰ë™ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤.
- stateì˜ ë³€ê²½ ê°ì§€ëŠ” Object.is ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ë©°, ì´ ì•Œê³ ë¦¬ì¦˜ì€ === ì—°ì‚°ë³´ë‹¤ ì—„ê²©
- ê²°ë¡ : ë¦¬ì•¡íŠ¸ëŠ” ê°™ì€ ê°’ì˜ stateë¡œ setterí•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²½ìš° ObjectIs ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ì—¬ ë¬´ì‹œí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìì²´ìµœì í™”

### `useMemo`
- `useState`ë¡œ ë¹„ì‹¼ ì—°ì‚°ì„ í•œ ë²ˆë§Œ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ì´ˆê¸°ê°’ìœ¼ë¡œ í•¨ìˆ˜ë¥¼ ë„£ëŠ” ì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì„ ë°°ì› ë‹¤. 
  - ì½œë°±ìœ¼ë¡œ ë„˜ê¸´ ê·¸ ë¹„ì‹¼ ì—°ì‚° í•¨ìˆ˜ë¥¼ ì´ˆê¸°ê°’ ì„¤ì • ë¿ ì•„ë‹ˆë¼ íŠ¹ì • ìƒí™© ì—…ë°ì´íŠ¸ë  ë•Œ ì‹¤í–‰ì‹œì¼œì•¼ í•œë‹¤ë©´?
  - ì˜ˆì»¨ëŒ€ ì¥ë°”êµ¬ë‹ˆì—ì„œ ì´ê²ƒì €ê²ƒ ë„£ì„ ë•Œë§ˆë‹¤ ì£¼ë¬¸ì„œë¼ëŠ” componentì—ì„œëŠ” ì´ ì£¼ë¬¸ê¸ˆì•¡ ë“±ì„ ìƒˆë¡œ ê³„ì‚°í•˜ì—¬ì•¼ í•œë‹¤. ì´ëŸ´ ë•Œ `useState`ë³´ë‹¤ëŠ” `useMemo`ë¡œ ì‹¤í–‰í•˜ë©´ ì¢‹ë‹¤.
- `useMemo`ëŠ” Memoization ê¸°ë²•ì„ í™œìš©í•˜ë©°, parameterê°€ ë˜‘ê°™ë‹¤ë©´ ê³„ì‚°í•˜ì§€ ì•ŠëŠ”ë‹¤.
- parameter ë‘ê°œë¥¼ ë°›ëŠ”ë‹¤
  - í•¨ìˆ˜: ë¹„ì‹¼ ì—°ì‚°ì„ ì‹¤í–‰í•˜ê³  ê·¸ ê²°ê³¼ê°’ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
  - ë°°ì—´: dependency array, ì´ ì•ˆì˜ ìš”ì†Œê°€ í•˜ë‚˜ë¼ë„ ë³€í•˜ë©´ ì²« ë²ˆì§¸ë¡œ ì „ë‹¬ëœ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ì—¬ ë°˜í™˜í•œë‹¤. ì´í›„ ì„¤ëª…í•  `useEffect` ë“±ì—ì„œë„ ë™ì¼

```javascript
function getCount(fillNumber) {
  console.log('An expensive work is been executing...')
  return Array(100000).fill(fillNumber).reduce((acc, cur) => acc + cur, 0)
}


function App() {
  return (
    <Counter />
  )
}

function Counter() {
  const [fillNumber, setFillNumber] = useState(1)
  const [text, setText] = useState('')
  const sum = getCount(fillNumber)
  const handleClick = () => {
    setFillNumber((previousNumber) => previousNumber + 1)
  }

  return (
    <section>
      <span>Sum: {sum}</span>
      <input value={text} onChange={(event) => setText(event.target.value)} />
      <button onClick={handleClick}>
        Plus FillNumber 1
      </button>
    </section>
  )
}
```
- ìœ„ ì½”ë“œì—ì„œ, input íƒœê·¸ì— Change eventê°€ ë°œìƒí•  ê²½ìš°ë§ˆë‹¤ sumì´ë¼ëŠ” ë³€ìˆ˜ì— í• ë‹¹ëœ `getCount` í•¨ìˆ˜ê°€ ì—°ì‚°ì‹ì„ ì‹¤í–‰í•œë‹¤.
  - ìš°ë¦¬ê°€ ì˜ë„í•œ ê²ƒì€ fillNumberê°€ ë°”ë€” ë•Œë§Œ sumì„ ê³„ì‚°í•˜ëŠ” ê²ƒì´ë¯€ë¡œ, sumì— í• ë‹¹í•˜ëŠ” `getCount`ë¥¼ `useMemo`ë¡œ ë„£ì–´ì¤€ë‹¤.
```javascript
// Counter í•¨ìˆ˜ ì½¤í¬ë„ŒíŠ¸ì˜ í•¨ìˆ˜ ëª¸ì²´ ë‚´ë¶€
// ê¸°ì¡´ ë¹„ì‹¼ ì—°ì‚°ì„ ë°”ë¡œ í• ë‹¹í•˜ëŠ” ê²½ìš°
const sum = getCount(fillNumber)

// useMemoë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„ì‹¼ ì—°ì‚°ì„ í•„ìš”í•  ë•Œë§Œ ì‹¤í–‰í•˜ê²Œ í•˜ëŠ” ê²½ìš°
const sum = useMemo(() => getCount(fillNumber), [ fillNumber ])
```
- ë¹„ì‹¼ ì—°ì‚°ì„ í•˜ëŠ” `getCount` í•¨ìˆ˜ê°€ ìš°ë¦¬ê°€ ì˜ë„í•œëŒ€ë¡œ fillNumberê°’ì´ ë°”ë€” ë•Œì—ë§Œ ìˆ˜í–‰ëœë‹¤. 
  - dependency arrayì— ë„˜ê¸´ ê°’ì— ë³€ê²½ì´ ìˆì„ ë•Œ `useMemo`ì— ì²« ë²ˆì§¸ë¡œ ë„˜ê¸´ í•¨ìˆ˜ê°€ ì‹¤í–‰
  - dep arrayì— ë„˜ê¸´ ê°’ì´ ë™ì¼í•˜ë‹¤ë©´ ê·¸ ê°’ì— ëŒ€í•´ ì—°ì‚°í•œ ê²°ê³¼ë¥¼ ë©”ëª¨ë¡œ ê¸°ì–µí•˜ê³  ìˆë‹¤ê°€ í•´ë‹¹ ì—°ì‚°ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤.

#### `useMemo`ì˜ íŠ¹ì„±
- ìµœì í™”ë¥¼ ìœ„í•´ ì‚¬ìš©ë  ìˆ˜ ìˆì§€ë§Œ í•­ìƒ ìµœì í™”ë¥¼ ë³´ì¥í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.
  -  Memoizationì„ í•œë‹¤ëŠ” ê²ƒì€ ê³§ memoryì— ê°’ì„ ì €ì¥í•œë‹¤ëŠ” ê²ƒì´ë¯€ë¡œ ë¶ˆí•„ìš”í•˜ê²Œ ë§ì€ ê°’ì„ ë©”ëª¨í•˜ë©´ ì˜¤íˆë ¤ ì„±ëŠ¥ì´ ë–¨ì–´ì§„ë‹¤. 
  - ì •ë§ ì´ ê°’ì„ ë©”ëª¨í•´ì•¼í•˜ëŠ”ì§€ ê³ ë¯¼í•œ í›„ ì‚¬ìš©í•  ê²ƒ
- ë‹¨ìˆœí•œ ê°’ ìì²´ë¥¼ ë©”ëª¨ì´ì œì´ì…˜ í•  ë•Œ ì‚¬ìš©
- `useMemo`ë¡œ ì „ë‹¬ëœ í•¨ìˆ˜ëŠ” ë Œë”ë§ ì¤‘ì— ì‹¤í–‰ëœë‹¤.
  - ë Œë”ë§ í›„ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ëŠ” `useEffect`ì—ì„œ í•´ì•¼ í•œë‹¤.

#### Component Memoization
- ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ìƒíƒœë¥¼ memoí•  ìˆ˜ ìˆë‹¤ë©´ ì»´í¬ë„ŒíŠ¸ ìì²´ë„ memoê°€ ê°€ëŠ¥í• ê¹Œ? `React.memo`ë¡œ ê°€ëŠ¥!
- function componentëŠ” propsë¼ëŠ” í•˜ë‚˜ì˜ íŒŒë¼ë¯¸í„°ë¥¼ ë°›ì•„ì„œ UI ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì¼ ë¿ì´ë‹¤.
  - ì¦‰, ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬ë˜ëŠ” propsë§Œ ì´ì „ê³¼ ê°™ë‹¤ë©´ ë°˜í™˜ê°’ë„ ë™ì¼í•˜ë¯€ë¡œ memoë¥¼ í†µí•´ ë¦¬ë Œë”ë§ì„ ë°©ì§€, CPUì—°ì‚°ì„ ì•„ë‚„ ìˆ˜ ìˆë‹¤.
- importë¥¼ í•´ì¤€ í›„ `React.memo(function MyComponent(props) { í•¨ìˆ˜ ì½¤í¬ë„ŒíŠ¸ ëª¸ì²´ })`ì˜ í˜•íƒœë¡œ ë©”ëª¨ê°€ ê°€ëŠ¥í•˜ë‹¤.
- ë‚´ë¶€ì ìœ¼ë¡œ `useState`, `useReducer`. `useContext` ë“±ì˜ ìƒíƒœë³€í™” í›…ì„ ê°€ì§€ê³  ìˆì–´ì„œ ë Œë”ë§ì„ ìœ ë°œí•˜ëŠ” ê²½ìš°ë¼ë©´ ì»´í¬ë„ŒíŠ¸ ë©”ëª¨ì˜ ì˜ë¯¸ê°€ ì—†ì–´ì§„ë‹¤.
  - ìœ„ì˜ ì˜ˆì œì—ì„œ inputì´ change eventë¥¼ ë°œìƒì‹œí‚¬ ë•Œë§ˆë‹¤ rendering ë˜ëŠ” ê²½ìš° ë“±
- ê¸°ë³¸ì ìœ¼ë¡œ memoí•¨ìˆ˜ëŠ” í•¨ìˆ˜ì»´í¬ë„ŒíŠ¸ê°€ ë°›ëŠ” propsì˜ ê¸°ì¡´ ê°ì²´ì™€ ìƒˆ ê°ì²´ë¥¼ shallow compareì„ í†µí•´ ë¹„êµ, ê°ì²´ì˜ ë ˆí¼ëŸ°ìŠ¤ë§Œ ë¹„êµí•˜ì—¬ ì—…ë°ì´íŠ¸ ì—¬ë¶€ë¥¼ íŒë‹¨í•œë‹¤.
- ë¦¬í„°ëŸ´ ê°ì²´ë¥¼ ë„˜ê¸°ëŠ” ê²½ìš° reference ì£¼ì†Œê°€ ë§¤ë²ˆ ë‹¬ë¼ì§€ë¯€ë¡œ ë¦¬ë Œë”ë§ì´ ëœë‹¤. ì´ë¥¼ ë°©ì§€í•˜ê±°ë‚˜ deep compareë¡œ ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ì„ í†µì œí•˜ê³ ì í•œë‹¤ë©´ memoì˜ ë‘ ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¡œ ë¹„êµ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì „ë‹¬í•˜ë©´ ëœë‹¤.
  - ì´ì „ propsì™€ í˜„ì¬ propsë¥¼ ë¹„êµí•˜ëŠ” ë¹„êµí•¨ìˆ˜ë¡œ `areEqual`ì„ ë§Œë“¤ì–´ ë‚´ìš©ë¬¼ì„ ë¹„êµí•´ì£¼ëŠ” í•¨ìˆ˜ë¥¼ ë„£ì–´ì£¼ê±°ë‚˜ ë˜ëŠ” `Json.stringify()`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„êµí•˜ë©´ ëœë‹¤.
  - í•´ë‹¹ ì½¤í¬ë„ŒíŠ¸ë¥¼ exportí•  ë•Œ `export default memo(Counter, areEqual)`ë¡œ ë©”ëª¨í•¨ìˆ˜ë¡œ ê°ì‹¸ exportí•œë‹¤.
```javascript
function MyComponent(props) {
  /* propsë¥¼ ì‚¬ìš©í•œ ë Œë”ë§ ë¡œì§ì´ ìˆëŠ” í•¨ìˆ˜ì½¤í¬ë„ŒíŠ¸ ëª¸ì²´ */
}

function areEqual(prevProps, nextProps){
  // prevPropsì™€ nextProps ë¹„êµ ë¡œì§ (ì˜ˆì‹œ)
  function isSameObject(obj1, obj2){
    return Object.entries(obj1).every( ([key, value] => {
      if (obj2[key] === value) return true;
    }));
  }
  return isSameObject(prevProps, nextProps);
}

export default memo(MyComponent, areEqual);

```


### `useEffect`
- Function Componentì˜ Life cycle methodë¥¼ ë‹´ë‹¹í•˜ëŠ” í›… ì¤‘ í•˜ë‚˜
  - class componentì—ì„œëŠ” `componentDidMount`, `componentDidUpdate`, `componentWillUnMount` ë“±ì˜ ë©”ì„œë“œë¥¼ ì‚¬ìš©í–ˆë‹¤. 
  - ì´ì¤‘ `componentDidMount`, `componentDidUpdate`, `componentWillUnmount`ì˜ ì—­í• ì„ í•œë‹¤.
- ë Œë”ë§ì´ ëª¨ë‘ ì™„ë£Œëœ í›„ í˜¸ì¶œ
- í•¨ìˆ˜ì™€ ë°°ì—´ì„ íŒŒë¼ë¯¸í„°ë¡œ ë°›ëŠ”ë‹¤.
- ë¦¬ë Œë”ë§ ë ë•Œë§ˆë‹¤ ê³„ì† ì‹¤í–‰ë˜ëŠ”ë°, ì´ë¥¼ ë°©ì§€í•˜ëŠ” dependency arrayê°€ ë‘ ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¡œ ì˜¤ëŠ” ë°°ì—´ì´ë‹¤.
- ì²«ë²ˆì§¸ë¡œ ë„˜ê¸°ëŠ” í•¨ìˆ˜ê°€ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ë©´, ë°˜í™˜ëœ í•¨ìˆ˜ëŠ” unmountì‹œì ì— ì‹¤í–‰

#### mount / unmount ì‹œì ì— ì£¼ë¡œ ì¼ì–´ë‚˜ëŠ” ì¼ë“¤
- mount: API ìš”ì²­, web socket ì—°ê²°, 3rd party lib í™œìš©, timeoutì´ë‚˜ interval set	
- unmount: web socket ìì› ì •ë¦¬, lib ìì› ì •ë¦¬, timeoutì´ë‚˜ interval clear

#### `useEffect`ì˜ íŠ¹ì„±
- ë Œë”ë§ ì™„ë£Œ ì´í›„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.
  - `useEffect`ì˜ ì½œë°±í•¨ìˆ˜ëŠ” ë¦¬ì•¡íŠ¸ê°€ ì „ë‹¬ëœ ì½œë°±í•¨ìˆ˜ë¥¼ ê¸°ì–µí•˜ê³  ìˆë‹¤ê°€ ì‹¤í–‰í•˜ê¸° ë•Œë¬¸ì— ë Œë”ë§ ì´í›„ ì‹¤í–‰ì´ ë³´ì¥ëœë‹¤. ë˜í•œ ê·¸ ë‹¤ìŒ ë Œë”ë§ ì´ì „ì˜ ì‹¤í–‰ì„ ë³´ì¥í•œë‹¤.
  - ë Œë”ë§ ê²°ê³¼ê°€ í™”ë©´ì— ëª¨ë‘ ê·¸ë ¤ì§„ ë’¤ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰í•˜ë¯€ë¡œ ì¼ë¶€ ìƒíƒœë¥¼ ì¦‰ì‹œ ë³€ê²½í•  í•„ìš”ê°€ ì—†ëŠ” ê²½ìš°ë‚˜, ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ê´€ë¦¬í•˜ëŠ” ê²½ìš° ì‚¬ìš©
  - ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰í•˜ì—¬ ë ˆì´ì•„ì›ƒ ì¸¡ì • ë“±ì˜ ì‘ì—…ì„ í•´ì•¼ í•˜ëŠ” ê²½ìš°ì—ëŠ” `useLayoutEffect`ë¥¼ ì‚¬ìš©
- ë§¤ ë Œë”ë§ ì´í›„ ì‹¤í–‰ë˜ì§€ë§Œ, dep arrayì— ì£¼ì–´ì§„ ê°’ì´ ë³€ê²½ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ì‹¤í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤.
  - ë§¤ë²ˆ clean upë„ ì‹¤í–‰: ì—…ë°ì´íŠ¸ ëœ ìƒˆë¡œìš´ ê°’ìœ¼ë¡œ ì‹¤í–‰ë˜ë©´ì„œ, ì—…ë°ì´íŠ¸ ëœ props ê°’ì„ ë°˜ì˜í•˜ì—¬ ë²„ê·¸ë¥¼ ì¤„ì¸ë‹¤.
- ì½œë°±ìœ¼ë¡œ ìµëª…í•¨ìˆ˜ë¥¼ ë„˜ê¸°ëŠ” ì´ìœ ëŠ” í´ë¡œì €ë¡œ ì»´í¬ë„ŒíŠ¸ ë‚´ì˜ ì°¸ì¡°ê°’ì„ ì œëŒ€ë¡œ ì—…ë°ì´íŠ¸ í•˜ê¸° ìœ„í•¨ì´ë‹¤.

### `useLayoutEffect`
- **ëª¨ë“  DOM ë³€ê²½ ì´í›„ ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰**í•˜ë©°, ëª¨ë“  DOMì´ ì—…ë°ì´íŠ¸ë˜ê³  ë‚˜ì„œ DOMì„ ë³€ê²½í•˜ë ¤ëŠ” ê²½ìš°ë‚˜, ìƒíƒœ ì—…ë°ì´íŠ¸ë¡œ UIê°€ ê¹œë°•ê±°ë¦¬ëŠ” ê²½ìš°ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ì‚¬ìš©
- `useEffect`ì™€ í•¨ê»˜ Function Componentì˜ Life cycle methodë¥¼ ë‹´ë‹¹í•˜ëŠ” í›… ì¤‘ í•˜ë‚˜
- `useEffect`ëŠ” ë Œë”ë§ ì™„ë£Œ ì´í›„ ì‹¤í–‰ë˜ëŠ”ë°, `useEffect`ì— ì „ë‹¬ë˜ëŠ” í•¨ìˆ˜ì—ì„œ DOM
ì— ì§ì ‘ ì ‘ê·¼í•˜ì—¬ ë³€ê²½í•´ì•¼ í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë„£ìœ¼ë©´, UIê°€ ë³€ê²½ë˜ê³  ë‚œ í›„ ë Œë”ë§ì„ ë˜ í•˜ë©´ì„œ ê¹œë°•ê±°ë¦¼ì´ ìƒê¸´ë‹¤.
  - ê·¸ëŸ¬ë¯€ë¡œ LifeCycle ë‚´ì—ì„œ ì§ì ‘ UIë¥¼ ë³€ê²½í•´ì•¼ í•˜ëŠ” ê²½ìš°ì—ëŠ” `useEffect`ê°€ ì•„ë‹ˆë¼ `useLayoutEffect`ë¡œ í•œë‹¤.

### `useCallback`
- `useMemo`ë¡œ í•¨ìˆ˜ë¥¼ ë©”ëª¨í•œ ê²ƒê³¼ ë™ì¼í•˜ë‹¤. ë°˜í™˜ê°’ìœ¼ë¡œ ê°’ì„ ë„˜ê¸°ëƒ í•¨ìˆ˜ë¥¼ ë„˜ê¸°ëƒì˜ ì°¨ì´ì¼ ë¿
  - `useCallback(func, dep array)` == `useMemo(() => func, dep array)`
- ì²« ë²ˆì§¸ ì¸ìë¡œ memoí•  í•¨ìˆ˜ë¥¼ ë„˜ê¸°ë©°, ë‘ ë²ˆì§¸ ì¸ìë¡œ ì–¸ì œ í•¨ìˆ˜ê°€ ì¬í• ë‹¹ë˜ì–´ì•¼í•˜ëŠ”ì§€ ê²°ì •í•˜ëŠ” dependency arrayë¥¼ ë„˜ê¸°ë©´ dep arrayê°€ ë°”ë€” ë•Œ ë©”ëª¨ëœ í•¨ìˆ˜ê°€ ì½œë°±ëœë‹¤.
- í•¨ìˆ˜ê°€ ë§Œë“¤ì–´ì§€ê³  í• ë‹¹ë˜ëŠ” ê³¼ì •ì—ì„œ ë°˜ë³µë˜ëŠ” ê³„ì‚°ì„ ë°©ì§€í•œë‹¤.

### `useRef`
- componentì˜ ìƒëª…ì£¼ê¸°ë‚˜ renderingê³¼ ê´€ê³„ ì—†ì´ ì–´ë–¤ ê°’ì„ ê¾¸ì¤€íˆ ìœ ì§€ì‹œí‚¤ê±°ë‚˜ DOMì— ì ‘ê·¼í•  ë•Œ ì‚¬ìš©
- ì´ˆê¸°ê°’ì„ ì¸ìë¡œ ë„˜ê¸°ë©´ currentë¼ëŠ” í”„ë¡œí¼í‹° í‚¤ì— ì´ˆê¸°ê°’ì„ ê°’ìœ¼ë¡œ ê°€ì§„ ref ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤. 
  - ì´ˆê¸°ê°’ì—ëŠ” ë¬¸ìì—´, ìˆ«ì ë“± ì•„ë¬´ê±°ë‚˜ ë„£ì„ ìˆ˜ ìˆë‹¤.
  - ë¦¬ë Œë”ë§ì´ ë˜ë”ë¼ë„ ë§¤ë²ˆ ë™ì¼í•œ ref ê°ì²´ë¥¼ ì œê³µí•œë‹¤.
```javascript
const refContainer = useRef(initialValue)
// refContainer = { current: initialValue }
```
- `useState`, `useCallback`, `useMemo` ë“±ìœ¼ë¡œ ë§Œë“  ê°’ì´ë‚˜ í•¨ìˆ˜ëŠ” ë¦¬ë Œë”ë§ì´ ë  ë•Œë§ˆë‹¤ í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ê°€ ì¬ì‹¤í–‰ë˜ë©´ì„œ ê°’ì„ ì¬í• ë‹¹í•˜ëŠ”ë°, `useRef`ëŠ” ê·¸ë ‡ì§€ ì•Šê¸° ë•Œë¬¸ì— DOMì— ì ‘ê·¼í• ë•Œ í™œìš©í•œë‹¤.

#### `useRef`ê°€ DOMì—ì„œ ì°¸ì¡°ë¥¼ ì–»ì–´ë‚´ëŠ” ë°©ë²•
```javascript
function TextInputWithFocusBtn() {
  const inputEl = useRef(null);
  const onBtnClick = () => {
    inputEl.current.focus();
  };

  return (
    <>
      <input ref={inputEl} type="text" />
      <button onClick={onBtnClick}>Focus!</button>
    </>
  );
}
```
- `useRef`ì˜ ì´ˆê¸°ê°’ì— nullì„ ì£¼ê³ , input íƒœê·¸ì— refë¼ëŠ” propsì— ref ê°ì²´ë¥¼ ë„£ì–´ì¤€ë‹¤.
- ê·¸ë‹¤ìŒ ë²„íŠ¼í´ë¦­í•˜ë©´ í•´ë‹¹ refê°ì²´ì— focusë¥¼ ì£¼ëŠ” í•¨ìˆ˜ë¥¼ ì´ë²¤íŠ¸í•¸ë“¤ëŸ¬ë¡œ ê±¸ì–´ì¤€ë‹¤.
- ì´ì²˜ëŸ¼ JSXê°€ ì‹¤ì œ DOMì— ë°˜ì˜ë˜ê³  ë‚˜ì„œ inputíƒœê·¸ì˜ ì°¸ì¡°ë¥¼ inputElì´ë¼ëŠ” keyì— ë„£ì–´ì£¼ë©´ currentë¡œ ë“¤ì–´ê°€ê²Œ ëœë‹¤.
- Reactì—ì„œëŠ” `document.~`ìœ¼ë¡œ ê°€ì ¸ì˜¤ëŠ” ê±´ ìµœëŒ€í•œ ì§€ì–‘, `useRef`ë¥¼ ì‚¬ìš©í•  ê²ƒ
- ë Œë”ë§ í›„ ë°”ë¡œ focus ì£¼ê³  ì‹¶ì€ ê²½ìš°ëŠ” ë Œë”ë§ ì´í›„ ì‹¤í–‰ë˜ëŠ” `useEffect`ë¥¼ ì‚¬ìš©í•˜ì.
```javascript
useEffect( () => {
  inputEl.current.focus();
}
```

#### `useRef` ì‚¬ìš© ì‹œ ì£¼ì˜ì‚¬í•­
- `useRef` ì†ì˜ currentëŠ” ì•„ë¬´ë¦¬ ì—¬ëŸ¬ë²ˆ ë Œë”ë§ ë˜ì–´ë„ ê°’ì„ ìœ ì§€í•˜ë©°, currentê°’ì„ ìˆ˜ì •í•œë‹¤ê³  í•´ë„ ë¦¬ë Œë”ë§ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤. 
  - Reactê°€ DOMë…¸ë“œì— refë¥¼ ë¶™ì´ê±°ë‚˜ ë—„ ë•Œë§ˆë‹¤ ì–´ë–¤ ë™ì‘ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ë¦¬ë Œë”ë§ì„ í•´ì•¼í•˜ë©´ `useCallback`ìœ¼ë¡œ Callback Refë¥¼ ì‚¬ìš©í•´ì•¼.
- `useCallback`ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ í•¨ìˆ˜ë¥¼ ë„£ìœ¼ë©´ Reactê°€ ì•Œì•„ì„œ í• ë‹¹í•œë‹¤. `useCallback`ì— ë„˜ê²¨ì§€ëŠ” ì½œë°±í•¨ìˆ˜ì˜ ì²« ë²ˆì§¸ ì¸ìëŠ” DOMì˜ ì°¸ì¡°ê°ì²´ì´ë‹¤.
- Reactê°€ ë Œë”ë§ì´ ëë‚˜ê³  DOMì˜ refë¥¼ currentì— ì €ì¥í•˜ê³ , `useEffect`ë¥¼ ì‹¤í–‰í•œë‹¤.
- ê°’ì„ ë„£ëŠ” ì‹œì ì— ë¬´ì–¸ê°€ ì‹¤í–‰ì‹œí‚¤ê³  ì‹¶ì€ë° `useEffect`ë¥¼ ì“°ê³  ì‹¶ì§€ ì•Šì€ ê²½ìš° `useCallback`ì„ ì“´ë‹¤ê³  ìƒê°í•˜ì.
```javascript
function MeasureExample() {
  const [ height, setHeight ] = useState(0);
  const measuredRef = useCallback( node => {
    if ( node !== null ) {
      setHeight(node.getBoundingClientRect().height);
    }
  }, []);
  
  return (
    <>
      <h1 ref={measuredRef}> Hello, world</h1>
      <h2>The above header is {Math.round(height)}px tall.</h2>
    </>
  );
}
```
  - ë Œë”ë§ í›„ h1 íƒœê·¸ì˜ ì°¸ì¡°ë¥¼ ë°›ì•„ í•´ë‹¹ íƒœê·¸ì˜ heightê°’ì„ setHeightë¡œ í• ë‹¹í•œë‹¤.
  - ë§Œì•½ ì´ê²ƒì„ `useRef`ë¡œ ë§Œë“¤ì—ˆëŠ”ë° ë¦¬ë Œë”ë§ ì´í›„ CSSê°€ ì ìš©ë˜ì–´ heightê°’ì´ ë°”ë€Œë©´ setHeightë¡œ ì„¤ì •í•´ë‘” heightê°’ì€ ì´ì „ ë†’ì´ì˜ ê°’ì„ ì—¬ì „íˆ ê°€ì§€ê³  ìˆë‹¤.



### `forwardRef`
- ì—¬ëŸ¬êµ°ë°ì—ì„œ í™œìš©ë˜ê³  ìˆëŠ” ì»´í¬ë„ŒíŠ¸ì—ì„œ, ìì‹ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ì–»ì–´ì•¼ í•˜ëŠ” ê²½ìš°? 
  - ìì‹ ì˜ DOMì´ ì•„ë‹ˆë¼, ë¶€ëª¨ componentê°€ ìì‹ componentì˜ DOMê°ì²´ ì°¸ì¡°ë¥¼ ì–»ì–´ì„œ ë¬´ì–¸ê°€ ì‘ì—…í•´ì•¼ í•˜ëŠ” ê²½ìš° ë“±
- ì´ëŸ° ê²½ìš°ë¥¼ ìœ„í•´ ReactëŠ” í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ì¸ìë¡œ ë°›ëŠ” `forwardRef`ë¼ëŠ” í•¨ìˆ˜ë¥¼ ì œê³µí•œë‹¤.
  - í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ëŠ” ì°¸ì¡°í•´ì•¼í•˜ëŠ” componentë¥¼ ì²« ë²ˆì§¸ ì¸ìë¡œ, refë¥¼ ë‘ ë²ˆì§¸ ì¸ìë¡œ ë°›ëŠ”ë‹¤.
  - ìœ„ refë¥¼ JSXì˜ ref ì–´íŠ¸ë¦¬ë·°íŠ¸ì— ì „ë‹¬í•˜ë©´ì„œ í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ë¥¼ í˜¸ì¶œí•˜ë©´ í•´ë‹¹í•˜ëŠ” ì°¸ì¡°ë¥¼ ê°–ëŠ” React ë…¸ë“œ, ì¦‰ í•¨ìˆ˜ componentê°€ ë°˜í™˜ëœë‹¤. 
```javascript
const FancyButton = React.forwardRef(({ children }, ref) => (
  <button ref={ref} className="FancyButton">
    {children}
  </button>
));

const ref = React.createRef();
<FancyButton ref={ref}>Click me!</FancyButton>
```
- `createRef`ë¥¼ ì“°ì§€ ì•Šê³  ì»´í¬ë„ŒíŠ¸ì—ì„œ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ëŠ” ê²½ìš°ê°€ ë” ë§ë‹¤. 
  - ìì‹ ì»´í¬ë„ŒíŠ¸ì—ì„œ `forwardRef`ë¡œ ë³´ë‚´ë©´ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” useRefë¡œ ë°›ì•„ì„œ ì‚¬ìš©
```javascript
import { forwardRef, useRef } from 'react'

// ë¶€ëª¨ì»´í¬ë„ŒíŠ¸
function Form() {
  const inputRef = useRef(null)
  function handleFocus() {
    inputRef.current.focus()
  }
  return (
    <form>
      <MyInput ref={inputRef} />
      <button type="submit" onClick={handleFocus}>Focus!</button>
    </form>
  )
}

//ìì‹ ì»´í¬ë„ŒíŠ¸
const MyInput = forwardRef((props, ref) => {
  return <input type="text" ref={ref} />
})
```

#### `forwardRef` íŠ¹ì„±
- forwardRefë¥¼ í•˜ë©´ ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ê°€ ë§Œë“¤ì–´ì§€ëŠ”ë°, ê°œë°œìë„êµ¬ì— ì´ë¦„ì´ Anonymousë¡œ ëœ¬ë‹¤. 
  - ì´ë¦„ì„ ëœ¨ê²Œ í•˜ë ¤ë©´ `Counter.displayName='Counter'`
  - memoë‚˜ `forwardRef`ë¥¼ í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ìµëª…ìœ¼ë¡œ ëœ¨ë‹ˆê¹Œ `displayName`ìœ¼ë¡œ ì´ë¦„ ì„¸íŒ…í•´ì£¼ì

#### ë‹¤ì‹œí•œë²ˆ `useRef`ì— ëŒ€í•´ ê¸°ì–µí•´ì•¼ í•  ê²ƒ
- ê°’ì„ ì „ë‹¬í•˜ë©´ ì´ë¥¼ ì´ˆê¸°ê°’ìœ¼ë¡œ í•˜ëŠ”, ë³€ê²½ê°€ëŠ¥í•œ(mutable) ref ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤. 
  - ë§¤ ë Œë”ë§ë§ˆë‹¤ ë™ì¼í•œ ê°’, currentë¼ëŠ” í•˜ë‚˜ì˜ í‚¤ë¥¼ ê°–ëŠ” ref ê°ì²´ ì œê³µ
- DOM ë…¸ë“œì— ë”± í•œ ë²ˆ ì‹¤í–‰í•´ì•¼ í•˜ëŠ” ê²½ìš° ì‚¬ìš©í•œë‹¤.
- useRefë¡œ currentê°’ì„ ë°”ê¾¸ë”ë¼ë„ ë Œë”ë§í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ë Œë”ë§ ë˜ê¸° ì „ ê°’ì„ ê¸°ì–µí•´ì•¼ í•˜ëŠ” ê²½ìš° ì‚¬ìš©.
- `useEffect`ëŠ” rendering ì´í›„ ì‹¤í–‰í•˜ë¯€ë¡œ currentì— ìƒˆ ê°’ì„ ë Œë”ë§ ì´í›„ì— ì„¤ì •í•œë‹¤.
```javascript
function Counter ) {
  const [ count, setCount ] = useState(0);

  const prevCountRef = useRef();
  useEffect(() => {
    prevCountRef.current = count;
  });
  const prevCount = prevCountRef.current;

  return <h1>Now: {count}, before: {prevCount}</h1>;
}
```
  - ì²˜ìŒ ì‹¤í–‰í•  ë•Œ `count`ëŠ” 0ìœ¼ë¡œ ì´ˆê¸°í™”ë˜ê³ , `useRef`ê°€ ë§Œë“¤ì–´ì ¸ `prevCountRef`ì— í• ë‹¹ë˜ê³ , ë Œë”ë§ ì´í›„ `useEffect`ê°€ ì‹¤í–‰ëœë‹¤.
  - `prevCount`ì—ëŠ” í˜„ì¬ ê°€ì§„ ê°’ì´ ë‚˜íƒ€ë‚˜ê³ , ì¬ì‹¤í–‰ë˜ë”ë¼ë„ useRefëŠ” ì‹¤í–‰ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ `count`ê°€ ì—…ë°ì´íŠ¸ ë˜ë©´ ì „ì— ìˆë˜ ê°’ì„ ë¬¼ê³  ìˆë‹¤.


### `useImperativeHandle`
- `forwardRef`ë‘ ê°™ì´ ì‚¬ìš©, ìì‹ componentì—ì„œ íŠ¹ì • methodë¥¼ ë¶€ëª¨componentì—ê²Œ ë„˜ê²¨ì•¼ í•˜ëŠ” ìƒí™©ì—ì„œ ì‚¬ìš©
- Reactì—ì„œ ë¶€ëª¨ì—ì„œ ìì‹ìœ¼ë¡œ props ì „ë‹¬í•˜ëŠ” ê²Œ ì¼ë°˜ì ì´ì§€ë§Œ, ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš°ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
  - ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ìì‹ ì»´í¬ë„ŒíŠ¸ì˜ ì°¸ì¡°ë¥¼ ì „ì ìœ¼ë¡œ ê°–ëŠ” ê²ƒì´ ë¶€ë‹´ë  ë•Œ 
  - ìì‹ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë©”ì„œë“œë¥¼ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ê²Œ ë„˜ê²¨ì•¼ í•  ë•Œ
- ì²« ì¸ìëŠ” ë¶€ëª¨ë¡œë¶€í„° ì „ë‹¬ë°›ì€ refë¥¼ ë°›ê³  ë‘ë²ˆì§¸ ì¸ìë¡œ í•¨ìˆ˜ë¥¼ ì „ë‹¬, ê·¸ í•¨ìˆ˜ëŠ” ë©”ì„œë“œë¥¼ ë‹´ì€ ê°ì²´ë¥¼ return í•œë‹¤.
  - í•¨ìˆ˜ê°€ ë¦¬í„´í•˜ëŠ” ê°ì²´ëŠ” `{ key: value }` í˜•íƒœë¡œ ë¶€ëª¨ì—ê²Œ ì•Œë¦¬ê³  ì‹¶ì€ ë™ì‘ì„ customí•˜ì—¬ ì „ë‹¬í•˜ë©°, ë¶€ëª¨ëŠ” `getValue`ë¡œ ì´ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.
```javascript
// refì™€ ë©”ì„œë“œë¥¼ ë³´ë‚´ëŠ” ìì‹ component
const Input = React.forwardRef((props, ref) => {
  const inputRef = useRef(null)

  useImperativeHandle(ref, () => ({ 
    getValue:()=> {
     inputRef.current.focus()
    }
  }))  
 
  return (
    <input type="text" ref={inputRef} />
  )
})

// refì™€ ë©”ì„œë“œë¥¼ ë°›ëŠ” ë¶€ëª¨ component
function App() {
  const inputRef = React.useRef()
  return (
    <div className="App">
      <Input ref={inputRef} />
      <button 
        onclick={ ()=> {
          console.log(inputRef.current.getValue())
        }}>
      focus
      </button>
    </div>
  )
}
```


### `useReducer`
- í•œ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¶ˆëŸ¬ì˜¨ ì• ë¥¼ ë‹¤ë¥¸ ê³µê°„ì—ì„œë„ ì¨ì•¼ í•  ë•Œ, ì „ì—­ ìƒíƒœ ê´€ë¦¬ ë„êµ¬ì¸ reduxë¥¼ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤. 
- `useReducer`ì™€ context APIë¥¼ ì‚¬ìš©í•˜ë©´ ë¹„ìŠ·í•œ íš¨ê³¼ë¥¼ ë‚¼ ìˆ˜ ìˆë‹¤.
- ì˜ˆì»¨ëŒ€ íšŒì›ê°€ì… ë¦¬í”„ë ˆì‹œí•˜ë”ë¼ë„ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°’ì„ ê¸°ì–µí•˜ì—¬ UXë¥¼ ë†’ì´ê³ ì í•˜ëŠ” ìƒí™©ì„ ìƒê°í•´ë³´ì
  - local storageì— í•˜ë‚˜í•˜ë‚˜ ì €ì¥í•´ë‘ëŠ” ë°©ë²•ë„ ìˆì§€ë§Œ êµ¬ì¡°ê°€ ì¡í˜€ìˆëŠ” í˜•íƒœë¡œ ê´€ë¦¬ë¥¼ í•´ì•¼ ë‚˜ì¤‘ì— í¸í•´ì§„ë‹¤.
  - ì „ì—­ìƒíƒœë¡œ ë“¤ê³  ìˆëŠ” ì •ë³´ë¥¼ í†µí•´ ë‹¤ë¥¸ componentì—ì„œë„ ì ‘ê·¼í•˜ì—¬ í™œìš©í•˜ë„ë¡ í•´ë³´ì.


#### `useReducer` í™œìš© ì˜ˆì œ
- ì •ì˜í•´ë‘ê³  ì‹¶ì€ ë³µì¡í•œ ìƒíƒœë¥¼ ì •ì˜í•˜ê³ , ì²˜ìŒì—ëŠ” ë¹ˆê°’ìœ¼ë¡œ ì±„ì›Œë‘ê³  `reducer`ì´ë¼ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ì—¬ ì²« ë²ˆì§¸ ì¸ìë¡œ ë„˜ê¸´ë‹¤.
- ë‘ ë²ˆì§¸ ì¸ìë¡œ ì´ˆê¸° ìƒíƒœë¥¼, ì„¸ ë²ˆì§¸ ì¸ìë¡œ ì´ˆê¸°í™”ë¥¼ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë„˜ê¸´ë‹¤.
```javascript
const initialState = {
  product : {
    name: 'Chocolate',
    price: 800,
    madeBy: 'Lotte',
    quantity: 28,
  }
}

function init(initialProduct){
  // ì´ˆê¸°í™”ì‘ì—…
  return {
    product: initialProduct,
  }
}

function reducer(state, action){
  switch (action.type) {
    case: 'sold':
      return {
        product: {
          ... product ,
          quantity: state.product.quantity - action.payload.soldQuantity,
        }
      }
    case 'income':
      return {
        product: {
          ... product ,
          quantity: state.product.quantity + action.payload.incomeQuantity,
      }
    }
    default:
      return initialState
  }
}

function Dashboard() {
  const [ state, dispatch ] = useReducer(reducer, initialState, init)
  return (
    <>
      Product: {JSON.stringify(state.product)}
      <button onClick={() => dispatch({type: 'sold'})}>Sell a product</button>
      <button onClick={() => dispatch({type: 'income'})}>Income a product</button>
    </>
  )
}
```
- ìš°ë¦¬ê°€ ë§Œë“  í•¨ìˆ˜ reducerì€ stateì™€ action ë‘ê°€ì§€ë¥¼ parameterë¡œ ë°›ëŠ”ë‹¤. `useReducer`ëŠ” ì´ ë‘ê°€ì§€ ì¸ìë¥¼ í†µí•´ 'ì •ì˜ëœ ìƒíƒœë¥¼ ì–´ë–»ê²Œ í•  ê±´ì§€' ë‚˜íƒ€ë‚´ëŠ” í•¨ìˆ˜ì´ë‹¤.
  - stateëŠ” ìƒíƒœ, ì¦‰ ì´ˆê¸°ìƒíƒœë¥¼ ë§í•œë‹¤
  - actionì€ í•˜ë‚˜ì˜ ê°ì²´ì— ë¶ˆê³¼í•˜ë‹¤. `{ type: '', payload: {...} }` í˜•íƒœ
- ì¥ë°”êµ¬ë‹ˆì— ë‹´ì€ ì—¬ëŸ¬ê°€ì§€ ìƒí’ˆì„ ê²°ì œí•˜ëŠ” ìƒí™©
  - action typeì— soldë¼ëŠ” ê°’ì´ ì „ë‹¬ë˜ë©´ ì´ì „ìƒíƒœì˜ state.productë¥¼ spreadë¬¸ë²•ìœ¼ë¡œ í’€ì–´ì£¼ê³  quantityì— íŒ”ë¦° ê°œìˆ˜ë§Œí¼ ëº€ ê°’ì„ ë®ì–´ì”Œìš´ë‹¤. 
  - `{ product: { ... state, quantity: state.product.quantity - action.payload.soldQuantity }}`

## Function componentë¡œ Migrate

## ëŠë‚€ ì 
- ì›ë¦¬ë§Œ ì˜ ì•Œë©´ ì •ë§ í¸í•˜ê²Œ ì“¸ ìˆ˜ ìˆëŠ” í›…ë“¤ì¼í…ë°.. ì•„ì§ ê°ì´ ì•ˆ ì˜¤ì§€ë§Œ ì¼ë‹¨ ì—´ì‹¬íˆ ê³µë¶€í•˜ì
