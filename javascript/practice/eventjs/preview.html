<!DOCTYPE html>
<html>
<body>
  <div class="container">
    <button class="btn1">Button 1</button>
    <button class="btn2">Button 2</button>
    <button class="btn3">Button 3</button>
  </div>
  <script>
    // 이벤트 위임. 클릭된 하위 버튼 요소의 color를 변경한다.
    // document.querySelector('.container').onclick = ({ target }) => {
    //   if (!target.matches('.container > button')) return;
    //   target.style.color = 'red';
    // };
    const $container = document.querySelector('.container')
    $container.addEventListener('click', ({ target }) => {
      if (!target.matches('.container > button')) return;
      target.style.color = 'red';
    }, true);

    // .btn2 요소는 이벤트를 전파하지 않으므로 상위 요소에서 이벤트를 캐치할 수 없다.
    document.querySelector('.btn2').onclick = e => {
      e.stopPropagation(); // 이벤트 전파 중단
      e.target.style.color = 'blue';
    };
  </script>
</body>
</html>